{"version":3,"sources":["../src/_internal/oauth/stores/session-store.ts","../src/_internal/oauth/stores/state-store.ts","../src/_internal/oauth/iron-session/config.ts","../src/_internal/oauth/iron-session/helpers.ts"],"names":[],"mappings":"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","file":"oauth.js","sourcesContent":["import type { SupabaseClient } from \"@supabase/supabase-js\";\nimport type { SessionStore } from \"@hypercerts-org/sdk-core\";\nimport type { NodeSavedSession } from \"@atproto/oauth-client-node\";\n\n/**\n * Creates a Supabase-backed session store for ATProto OAuth.\n * Sessions are keyed by app_id + DID to support multiple apps sharing the same database.\n *\n * @param supabase - Supabase client instance\n * @param appId - Unique identifier for the app (e.g., \"greenglobe\", \"bumicerts\")\n * @returns SessionStore implementation\n *\n * @example\n * ```typescript\n * import { createClient } from \"@supabase/supabase-js\";\n * import { createSupabaseSessionStore } from \"@climateai/sdk/oauth\";\n *\n * const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_KEY);\n * const sessionStore = createSupabaseSessionStore(supabase, \"greenglobe\");\n * ```\n *\n * Required Supabase table schema:\n * ```sql\n * CREATE TABLE atproto_oauth_session (\n *     id TEXT PRIMARY KEY,\n *     app_id TEXT NOT NULL,\n *     did TEXT NOT NULL,\n *     value JSONB NOT NULL,\n *     created_at TIMESTAMPTZ DEFAULT NOW(),\n *     updated_at TIMESTAMPTZ DEFAULT NOW(),\n *     UNIQUE(app_id, did)\n * );\n * CREATE INDEX idx_oauth_session_app_did ON atproto_oauth_session(app_id, did);\n * ```\n */\nexport function createSupabaseSessionStore(\n  supabase: SupabaseClient,\n  appId: string\n): SessionStore {\n  const TABLE_NAME = \"atproto_oauth_session\";\n\n  return {\n    async get(did: string): Promise<NodeSavedSession | undefined> {\n      const compositeKey = `${appId}:${did}`;\n\n      const { data, error } = await supabase\n        .from(TABLE_NAME)\n        .select(\"value\")\n        .eq(\"id\", compositeKey)\n        .single();\n\n      // \"Not found\" case - PGRST116 means no rows returned for .single()\n      if (error?.code === \"PGRST116\") {\n        return undefined;\n      }\n\n      if (error) {\n        throw new Error(`Failed to get session: ${error.message}`);\n      }\n\n      if (!data) {\n        return undefined;\n      }\n\n      return data.value as NodeSavedSession;\n    },\n\n    async set(did: string, session: NodeSavedSession): Promise<void> {\n      const compositeKey = `${appId}:${did}`;\n\n      const { error } = await supabase.from(TABLE_NAME).upsert(\n        {\n          id: compositeKey,\n          app_id: appId,\n          did: did,\n          value: session,\n          updated_at: new Date().toISOString(),\n        },\n        {\n          onConflict: \"id\",\n        }\n      );\n\n      if (error) {\n        throw new Error(`Failed to save session: ${error.message}`);\n      }\n    },\n\n    async del(did: string): Promise<void> {\n      const compositeKey = `${appId}:${did}`;\n\n      const { error } = await supabase\n        .from(TABLE_NAME)\n        .delete()\n        .eq(\"id\", compositeKey);\n\n      if (error) {\n        throw new Error(`Failed to delete session: ${error.message}`);\n      }\n    },\n  };\n}\n","import type { SupabaseClient } from \"@supabase/supabase-js\";\nimport type { StateStore } from \"@hypercerts-org/sdk-core\";\nimport type { NodeSavedState } from \"@atproto/oauth-client-node\";\n\n/**\n * Creates a Supabase-backed state store for ATProto OAuth authorization flow.\n * States are short-lived (1 hour TTL) and used during the OAuth authorization process.\n *\n * @param supabase - Supabase client instance\n * @param appId - Unique identifier for the app (e.g., \"greenglobe\", \"bumicerts\")\n * @returns StateStore implementation\n *\n * @example\n * ```typescript\n * import { createClient } from \"@supabase/supabase-js\";\n * import { createSupabaseStateStore } from \"@climateai/sdk/oauth\";\n *\n * const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_KEY);\n * const stateStore = createSupabaseStateStore(supabase, \"greenglobe\");\n * ```\n *\n * Required Supabase table schema:\n * ```sql\n * CREATE TABLE atproto_oauth_state (\n *     id TEXT PRIMARY KEY,\n *     app_id TEXT NOT NULL,\n *     value JSONB NOT NULL,\n *     created_at TIMESTAMPTZ DEFAULT NOW(),\n *     expires_at TIMESTAMPTZ DEFAULT (NOW() + INTERVAL '1 hour')\n * );\n * CREATE INDEX idx_oauth_state_app_expires ON atproto_oauth_state(app_id, expires_at);\n * ```\n */\nexport function createSupabaseStateStore(\n  supabase: SupabaseClient,\n  appId: string\n): StateStore {\n  const TABLE_NAME = \"atproto_oauth_state\";\n  const TTL_HOURS = 1;\n\n  return {\n    async get(key: string): Promise<NodeSavedState | undefined> {\n      const compositeKey = `${appId}:${key}`;\n\n      const { data, error } = await supabase\n        .from(TABLE_NAME)\n        .select(\"value, expires_at\")\n        .eq(\"id\", compositeKey)\n        .single();\n\n      // \"Not found\" case - PGRST116 means no rows returned for .single()\n      if (error?.code === \"PGRST116\") {\n        return undefined;\n      }\n\n      if (error) {\n        throw new Error(`Failed to get state: ${error.message}`);\n      }\n\n      if (!data) {\n        return undefined;\n      }\n\n      if (new Date(data.expires_at) < new Date()) {\n        await supabase.from(TABLE_NAME).delete().eq(\"id\", compositeKey);\n        throw new Error(\"OAuth state has expired\");\n      }\n\n      return data.value as NodeSavedState;\n    },\n\n    async set(key: string, state: NodeSavedState): Promise<void> {\n      const compositeKey = `${appId}:${key}`;\n      const expiresAt = new Date(Date.now() + TTL_HOURS * 60 * 60 * 1000);\n\n      const { error } = await supabase.from(TABLE_NAME).upsert(\n        {\n          id: compositeKey,\n          app_id: appId,\n          value: state,\n          expires_at: expiresAt.toISOString(),\n        },\n        {\n          onConflict: \"id\",\n        }\n      );\n\n      if (error) {\n        throw new Error(`Failed to save state: ${error.message}`);\n      }\n    },\n\n    async del(key: string): Promise<void> {\n      const compositeKey = `${appId}:${key}`;\n\n      const { error } = await supabase\n        .from(TABLE_NAME)\n        .delete()\n        .eq(\"id\", compositeKey);\n\n      if (error) {\n        throw new Error(`Failed to delete state: ${error.message}`);\n      }\n    },\n  };\n}\n\n/**\n * Cleans up expired OAuth states from the database.\n *\n * @param supabase - Supabase client instance\n * @returns Number of deleted records\n *\n * @example\n * ```typescript\n * // In a scheduled function or cron job\n * const deleted = await cleanupExpiredStates(supabase);\n * console.log(`Cleaned up ${deleted} expired OAuth states`);\n * ```\n */\nexport async function cleanupExpiredStates(\n  supabase: SupabaseClient\n): Promise<number> {\n  const TABLE_NAME = \"atproto_oauth_state\";\n\n  const { data, error } = await supabase\n    .from(TABLE_NAME)\n    .delete()\n    .lt(\"expires_at\", new Date().toISOString())\n    .select(\"id\");\n\n  if (error) {\n    throw new Error(`Failed to cleanup expired states: ${error.message}`);\n  }\n\n  return data?.length ?? 0;\n}\n","import type { SessionOptions } from \"iron-session\";\n\n/**\n * Session data stored in the iron-session cookie.\n * This contains minimal user identification data - full OAuth tokens\n * are stored in the Supabase session store.\n */\nexport type AppSessionData = {\n  /** User's DID (Decentralized Identifier) */\n  did?: string;\n  /** User's handle (e.g., \"user.climateai.org\") */\n  handle?: string;\n  /** Whether the user is currently logged in */\n  isLoggedIn: boolean;\n};\n\n/**\n * Default cookie expiration time in seconds (30 days)\n */\nconst DEFAULT_MAX_AGE = 60 * 60 * 24 * 30;\n\n/**\n * Default cookie name if not specified in environment\n */\nconst DEFAULT_COOKIE_NAME = \"climateai_session\";\n\n/**\n * Gets the iron-session configuration options.\n * Reads from environment variables:\n * - COOKIE_SECRET: Required, minimum 32 characters\n * - COOKIE_NAME: Optional, defaults to \"climateai_session\"\n *\n * @throws Error if COOKIE_SECRET is not set\n *\n * @example\n * ```typescript\n * // Set in .env\n * COOKIE_SECRET=your-secret-key-at-least-32-characters-long\n * COOKIE_NAME=greenglobe_session\n * ```\n */\nexport function getSessionOptions(): SessionOptions {\n  const cookieSecret = process.env.COOKIE_SECRET;\n\n  if (!cookieSecret) {\n    throw new Error(\n      \"COOKIE_SECRET environment variable is required for iron-session\"\n    );\n  }\n\n  if (cookieSecret.length < 32) {\n    throw new Error(\"COOKIE_SECRET must be at least 32 characters long\");\n  }\n\n  return {\n    password: cookieSecret,\n    cookieName: process.env.COOKIE_NAME || DEFAULT_COOKIE_NAME,\n    cookieOptions: {\n      httpOnly: true,\n      secure: process.env.NODE_ENV === \"production\",\n      sameSite: \"lax\" as const,\n      maxAge: DEFAULT_MAX_AGE,\n      path: \"/\",\n    },\n  };\n}\n","import { getIronSession } from \"iron-session\";\nimport { cookies } from \"next/headers\";\nimport { getSessionOptions, type AppSessionData } from \"./config\";\n\n/**\n * Gets the current app session from the iron-session cookie.\n * Returns the session data if a valid session exists, or a default empty session.\n *\n * @returns The current session data\n *\n * @example\n * ```typescript\n * const session = await getAppSession();\n * if (session.isLoggedIn && session.did) {\n *   // User is authenticated\n *   const oauthSession = await sdk.restoreSession(session.did);\n * }\n * ```\n */\nexport async function getAppSession(): Promise<AppSessionData> {\n  const cookieStore = await cookies();\n  const session = await getIronSession<AppSessionData>(\n    cookieStore,\n    getSessionOptions()\n  );\n\n  return {\n    did: session.did,\n    handle: session.handle,\n    isLoggedIn: session.isLoggedIn ?? false,\n  };\n}\n\n/**\n * Saves user data to the iron-session cookie.\n * Call this after successful OAuth callback to persist the user's identity.\n *\n * @param data - The session data to save (did, handle, isLoggedIn)\n *\n * @example\n * ```typescript\n * // After OAuth callback\n * const oauthSession = await sdk.callback(params);\n * await saveAppSession({\n *   did: oauthSession.sub,\n *   handle: oauthSession.handle,\n *   isLoggedIn: true,\n * });\n * ```\n */\nexport async function saveAppSession(\n  data: Partial<AppSessionData>\n): Promise<void> {\n  const cookieStore = await cookies();\n  const session = await getIronSession<AppSessionData>(\n    cookieStore,\n    getSessionOptions()\n  );\n\n  if (data.did !== undefined) {\n    session.did = data.did;\n  }\n  if (data.handle !== undefined) {\n    session.handle = data.handle;\n  }\n  if (data.isLoggedIn !== undefined) {\n    session.isLoggedIn = data.isLoggedIn;\n  }\n\n  await session.save();\n}\n\n/**\n * Clears the iron-session cookie, logging the user out.\n * Note: This only clears the cookie - the OAuth session in Supabase\n * should be cleared separately if needed.\n *\n * @example\n * ```typescript\n * // On logout\n * await clearAppSession();\n * // Optionally also clear the OAuth session from Supabase\n * ```\n */\nexport async function clearAppSession(): Promise<void> {\n  const cookieStore = await cookies();\n  const session = await getIronSession<AppSessionData>(\n    cookieStore,\n    getSessionOptions()\n  );\n\n  session.destroy();\n}\n\nexport type { AppSessionData };\n"]}