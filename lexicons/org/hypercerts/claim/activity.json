{
  "lexicon": 1,
  "id": "org.hypercerts.claim.activity",
  "defs": {
    "main": {
      "type": "record",
      "description": "A hypercert record tracking impact work.",
      "key": "any",
      "record": {
        "type": "object",
        "required": ["title", "shortDescription", "createdAt"],
        "properties": {
          "title": {
            "type": "string",
            "description": "Title of the hypercert.",
            "maxLength": 256
          },
          "shortDescription": {
            "type": "string",
            "description": "Short summary of this activity claim, suitable for previews and list views. Rich text annotations may be provided via `shortDescriptionFacets`.",
            "maxLength": 3000,
            "maxGraphemes": 300
          },
          "shortDescriptionFacets": {
            "type": "array",
            "description": "Rich text annotations for `shortDescription` (mentions, URLs, hashtags, etc).",
            "items": {
              "type": "ref",
              "ref": "app.bsky.richtext.facet"
            }
          },
          "description": {
            "type": "string",
            "description": "Optional longer description of this activity claim, including context or interpretation. Rich text annotations may be provided via `descriptionFacets`.",
            "maxLength": 30000,
            "maxGraphemes": 3000
          },
          "descriptionFacets": {
            "type": "array",
            "description": "Rich text annotations for `description` (mentions, URLs, hashtags, etc).",
            "items": {
              "type": "ref",
              "ref": "app.bsky.richtext.facet"
            }
          },
          "image": {
            "type": "union",
            "refs": [
              "org.hypercerts.defs#uri",
              "org.hypercerts.defs#smallImage"
            ],
            "description": "The hypercert visual representation as a URI or image blob."
          },
          "workScope": {
            "type": "union",
            "refs": ["com.atproto.repo.strongRef", "#workScopeString"],
            "description": "Work scope definition. Either a strongRef to a work-scope logic record (structured, nested logic), or a free-form string for simple or legacy scopes. The work scope record should conform to the org.hypercerts.helper.workScopeTag lexicon."
          },
          "startDate": {
            "type": "string",
            "format": "datetime",
            "description": "When the work began"
          },
          "endDate": {
            "type": "string",
            "format": "datetime",
            "description": "When the work ended"
          },
          "contributors": {
            "type": "array",
            "description": "An array of contributor objects, each containing contributor information, weight, and contribution details.",
            "items": {
              "type": "ref",
              "ref": "#contributor"
            }
          },
          "rights": {
            "type": "ref",
            "ref": "com.atproto.repo.strongRef",
            "description": "A strong reference to the rights that this hypercert has. The record referenced must conform with the lexicon org.hypercerts.claim.rights."
          },
          "locations": {
            "type": "array",
            "description": "An array of strong references to the location where activity was performed. The record referenced must conform with the lexicon app.certified.location.",
            "items": {
              "type": "ref",
              "ref": "com.atproto.repo.strongRef"
            }
          },
          "createdAt": {
            "type": "string",
            "format": "datetime",
            "description": "Client-declared timestamp when this record was originally created"
          }
        }
      }
    },
    "contributor": {
      "type": "object",
      "required": ["contributorIdentity"],
      "properties": {
        "contributorIdentity": {
          "type": "union",
          "refs": ["#contributorIdentity", "com.atproto.repo.strongRef"],
          "description": "Contributor identity as a string (DID or identifier) via org.hypercerts.claim.activity#contributorIdentity, or a strong reference to a contributor information record."
        },
        "contributionWeight": {
          "type": "string",
          "description": "The relative weight/importance of this contribution (stored as a string to avoid float precision issues). Must be a positive numeric value. Weights do not need to sum to a specific total; normalization can be performed by the consuming application as needed."
        },
        "contributionDetails": {
          "type": "union",
          "refs": ["#contributorRole", "com.atproto.repo.strongRef"],
          "description": "Contribution details as a string via org.hypercerts.claim.activity#contributorRole, or a strong reference to a contribution details record."
        }
      }
    },
    "contributorIdentity": {
      "type": "object",
      "description": "Contributor information as a string (DID or identifier).",
      "required": ["identity"],
      "properties": {
        "identity": {
          "type": "string",
          "description": "The contributor identity string (DID or identifier).",
          "maxLength": 1000,
          "maxGraphemes": 100
        }
      }
    },
    "contributorRole": {
      "type": "object",
      "description": "Contribution details as a string.",
      "required": ["role"],
      "properties": {
        "role": {
          "type": "string",
          "description": "The contribution role or details.",
          "maxLength": 1000,
          "maxGraphemes": 100
        }
      }
    },
    "workScopeString": {
      "type": "object",
      "description": "A free-form string describing the work scope for simple or legacy scopes.",
      "required": ["scope"],
      "properties": {
        "scope": {
          "type": "string",
          "description": "The work scope description string.",
          "maxLength": 1000,
          "maxGraphemes": 100
        }
      }
    }
  }
}
